"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[261],{3491:function(t,e,n){n.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[n("el-image",{staticClass:"image",attrs:{src:t.Data.封面}}),n("div",{staticStyle:{padding:"14px"}},[n("span",[t._v(t._s(t.Data[this.$store.state.METHOD.showinfo]))]),n("div",{staticClass:"bottom clearfix"},[n("span",[t._v(t._s(t.Data.StartTime.slice(0,5)))]),n("router-link",{attrs:{to:{name:"ScheduleDetail",query:{id:t.Data.排片号}}}},[n("el-button",{staticClass:"button",attrs:{type:"text"}},[t._v("选座购票")])],1)],1)])],1)],1)},o=[],l={props:["Data"]},a=l,s=n(1001),r=(0,s.Z)(a,i,o,!1,null,"7eb48fba",null),h=r.exports},7735:function(t,e,n){n.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-carousel",{attrs:{interval:5e3,height:"600px",type:"card"}},t._l(4,(function(e){return n("el-carousel-item",{key:e},[n("img",{attrs:{src:t.toshow[e]}})])})),1)},o=[],l={name:"Carousel",props:["items"],computed:{toshow(){let t=[...this.items],e=t.sort(((t,e)=>t.FilmNo-e.FilmNo)),n=[];for(let i of e)n.push(i.封面);return[...new Set([...n].reverse())]}}},a=l,s=n(1001),r=(0,s.Z)(a,i,o,!1,null,"7d2e3c81",null),h=r.exports},3705:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"myStatus"}}),n("div",{attrs:{id:"container"}})])}],l=n(8525),a={name:"Cinema",data(){return{ctrlObj:{},p:{}}},props:{SeatNo:{default:1}},watch:{SeatNo:{handler(t,e){this.ctrlObj.SeatNo=t,this.p={x:t%8*30-120,y:15*Math.floor(t/8)+100,z:400+30*Math.floor(t/8)+5},console.log(t),console.log(this.p)}}},mounted(){this.ctrlObj={x:0,y:160,z:535,imgscalex:3,imgscaley:3,SeatNo:50},this.ctrlObj.SeatNo=this.SeatNo,console.log(l);const t=new l.Scene,e=new l.AmbientLight(1122969),n=new l.WebGLRenderer({antialias:!0,alpha:!0});n.setSize(470,280);const i=new l.PlaneGeometry(800,1200);let o=new l.MeshLambertMaterial({color:8857,transparent:!0,opacity:.5});const a=new l.Mesh(i,o);a.position.set(15,0,0),a.rotation.x=-.5*Math.PI,a.receiveShadow=!0,t.add(a),t.add(e);const s=new l.PerspectiveCamera(75,1920/1080,.1,2e3);s.position.set(this.SeatNo%8*30-120,15*Math.floor(this.SeatNo/8)+100,400+30*Math.floor(this.SeatNo/8)+5),s.p=s.position;const r=new l.BoxGeometry(20,20,20),h=new l.MeshLambertMaterial({color:16777215,opacity:.6,transparent:!0});for(let m=0;m<8;m++)for(let e=0;e<8;e++){const n=new l.Mesh(r,h);n.position.set(30*(e-4),15*m+100,400+30*(m+1)),t.add(n)}var c=new l.PlaneBufferGeometry(240,135),d=(new l.TextureLoader).load("https://cdn.rellal.com/1920px-Yurucamp_Series_Visual.jpg"),u=new l.MeshBasicMaterial({map:d,side:l.DoubleSide}),f=new l.Mesh(c,u);f.castShadow=!0,t.add(f);const p=function(){s.position.x<this.p.x&&s.position.x++,s.position.x>this.p.x&&s.position.x--,s.position.y<this.p.y&&s.position.y++,s.position.y>this.p.y&&s.position.y--,s.position.z<this.p.z&&s.position.z++,s.position.z>this.p.z&&s.position.z--,f.scale.x=this.ctrlObj.imgscalex,f.scale.y=this.ctrlObj.imgscaley,f.position.set(0,this.ctrlObj.imgscaley*c.parameters.height/2,0),s.lookAt(f.position),n.render(t,s),requestAnimationFrame(p)}.bind(this);p(),document.getElementById("container").appendChild(n.domElement)}},s=a,r=n(1001),h=(0,r.Z)(s,i,o,!1,null,null,null),c=h.exports},7171:function(t,e,n){n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"day"},[n("div",{attrs:{id:"dayy"}},[t._v(t._s(t.time.slice(0,9)))]),n("div",{attrs:{id:"time"}},[t._v(t._s(t.time.slice(10)))]),t._v(" "),n("div",{attrs:{id:"info"}},[n("span",[t._v(t._s(t.length))]),t._v("场热映")])])},o=[],l=n(8488),a=n.n(l);let s="YYYY年M月D日 HH:mm:ss";var r={data(){return{time:a()().format(s),timer:{}}},mounted(){this.timero=setInterval((()=>{this.time=a()().format(s)}),1e3)},beforeDestroy(){clearInterval(this.timero)},computed:{length(){return this.$store.state.data.data.length}}},h=r,c=n(1001),d=(0,c.Z)(h,i,o,!1,null,"1e736fd9",null),u=d.exports},9856:function(t,e,n){n.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"con",class:t.classArr})},o=[],l={props:{data:{type:String,default:"40,50,30,20,60,80"},classArr:{type:String,default:"con small"}},mounted(){const t=this.$refs.con,e=document.createElement("canvas");e.className="canvas",e.width=280,e.height=280;const n=e.getContext("2d");function i(t){let e=0;for(let n of t)e<n&&(e=n);return e}function o(t,e){t.beginPath(),t.lineWidth="5",t.strokeStyle="white",t.moveTo(20,20),t.lineTo(20,e.height-20),t.lineTo(e.width-20,e.height-20),t.stroke()}async function l(t,e,n,o){const l=i(t)+40,a=t.length;function s(t,e,n,i,o){if(i.beginPath(),i.lineWidth="3",i.strokeStyle="rgba(255,255,255,0.6)",i.moveTo(20,o.height-20),t.length>0)for(let l in t){let a=(o.width-40)/n*(1*l+1),s=(o.height-20)*(1-1/e*t[l]);i.lineTo(a,s),i.arc(a,s,3,0,2*Math.PI),i.lineTo(a,s)}}function r(t,e,n,i,o,l){if(i.lineWidth="3",i.font="20px Arial",i.fillStyle="white",l>0&&t.length>0)for(let a=0;a<l;a++){let l=(o.width-40)/n*(1*a+1)-10,s=(o.height-20)*(1-1/e*t[a]);(void 0==t[a-1]?0:t[a-1])-t[a]>=0&&(void 0==t[a+1]?0:t[a+1])-t[a]>=0?s+=20:s-=20,i.fillText(t[a],l,s)}}n.width;for(let i in t)s(t.slice(0,i),l,a,e,n),await new Promise((h=>{let c=0,d=0,u=(n.width-40)/t.length*1/o,f=0;0==i?(u=1*((n.width-40)/t.length-20)/o,c=20,d=n.height-20,f=t[i]/l*(n.height-20)*1/o):(c=(n.width-40)/t.length*i,d=(n.height-20)*(1-1/l*t[i-1]),f=(n.height-20)*(t[i]-t[i-1])/l*1/o);let p=0;const m=setInterval((()=>{if(p==o){if(clearInterval(m),i==t.length-1)return e.clearRect(20,0,n.width-20,n.height-20),s(t.slice(0,i+1),l,a,e,n),r(t,l,a,e,n,i+1),void e.stroke();h()}p++,e.clearRect(20,0,n.width-20,n.height-20),r(t,l,a,e,n,i),e.lineTo(c,d),e.stroke(),c+=u,d-=f}),1)}))}o(n,e),l(this.data.split(",").map((t=>Number(t))),n,e,60),t.appendChild(e)}},a=l,s=n(1001),r=(0,s.Z)(a,i,o,!1,null,null,null),h=r.exports},650:function(t,e,n){n.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("canvas",{ref:"canvas",class:{tiny:this.tiny,small:this.small},attrs:{id:"canvas"}})])},o=[],l={data(){return{updated:""}},props:{description:{type:String,default:"音效,画面,导演,剧情,印象"},data:{type:String,default:"80,80,80,80,80"},editable:{type:Number,default:1},tiny:{type:Boolean,default:!1},small:{type:Boolean,default:!1}},mounted(){let t=(t,e)=>{let n=this,i="?";var o=e.split(","),l=this.$refs.canvas;l.width=600,l.height=300,l.length=t.split(",").length,t=t.split(",");var a=l.getContext("2d");a.clearRect(0,0,l.width,l.height);for(var s=.5*l.width,r=.5*l.height,h=[],c=[],d=[],u=[],f=[],p=[],m=[],g=o.length-1;g>=0;g--)""==o[g]&&(o[g]=0);var v=o,w=[91,92,99,90,90];for(g=0;g<=v.length-1;g++)c.push(100*Math.cos(2*g*Math.PI/v.length)+s),u.push(r-100*Math.sin(2*g*Math.PI/v.length)),h.push(Math.cos(2*g*Math.PI/v.length)*v[g]+s),d.push(r-Math.sin(2*g*Math.PI/v.length)*v[g]),p.push(Math.cos(2*g*Math.PI/v.length)*w[g]+s),m.push(r-Math.sin(2*g*Math.PI/v.length)*w[g]),f.push(Math.round(Math.sqrt(Math.pow(s-h[g],2)+Math.pow(r-d[g],2)))),a.globalAlpha=.85,a.beginPath(),a.arc(h[g],d[g],4,0,2*Math.PI),a.fillStyle="red",a.fill();a.moveTo(h[0],d[0]),a.beginPath(),a.lineWidth=4,a.font="bold 14px normal ",a.fillStyle="#1478FA";for(g=0;g<=v.length-1;g++)a.lineTo(h[g],d[g]);a.closePath(),a.fillStyle="rgba(100,100,255,0.8)",a.fill(),a.strokeStyle="#9d4dca",a.stroke(),a.beginPath(),a.lineWidth=1;for(g=0;g<=v.length-1;g++)a.lineTo(c[g],u[g]),a.fillText(t[g]+f[g],c[g]+20*Math.cos(2*g*Math.PI/v.length),u[g]-20*Math.sin(2*g*Math.PI/v.length));a.closePath(),a.strokeStyle="black",a.stroke(),a.moveTo(s,r),a.lineWidth=2;for(g=0;g<=v.length-1;g++)a.lineTo(c[g],u[g]),a.closePath(),a.strokeStyle="rgba(255,255,255,0.1)",a.stroke();var y=[],b=[],M=!1;function S(t,e){let n=null;return function(){n&&(clearTimeout(n),console.log("debouncce")),n=setTimeout((()=>{t.call(this)}),e)}}this.editable&&(l.onmousedown=function(t){var e=t.offsetX,n=t.offsetY;if(e,n,_(e,n))!0;else{!1;for(var o=0;o<v.length;o++){b[o];var l=Math.sqrt(Math.pow(h[o]-e,2)+Math.pow(d[o]-n,2));if(l<=15)return i=o,void(M=!0)}}});const P=()=>{n.$bus.$emit("RC",f.join(","))},x=S(P,1e3);function _(t,e){if(y[2]){var n={x:t,y:e},i=y;return PointInPoly(n,i)}}return l.onmousemove=function(e){var o=e.offsetX;e.offsetY;if(1==M&&Math.round((o-s)/Math.cos(2*i*Math.PI/this.length))>=0&&Math.round((o-s)/Math.cos(2*i*Math.PI/this.length))<=100){h[i]=o,d[i]=r-Math.tan(2*i*Math.PI/this.length)*(o-s),f[i]=Math.round((o-s)/Math.cos(2*i*Math.PI/this.length)),a.clearRect(0,0,l.width,l.height),n.updated=f.join(",");for(var p=0;p<=v.length-1;p++)a.globalAlpha=.85,a.beginPath(),a.arc(h[p],d[p],4,0,2*Math.PI),a.fillStyle="red",a.fill();a.moveTo(h[0],d[0]),a.beginPath(),a.lineWidth=4,a.font="bold 14px normal ",a.fillStyle="#1478FA";for(p=0;p<=v.length-1;p++)a.lineTo(h[p],d[p]);a.closePath(),a.fillStyle="rgba(100,100,255,0.8)",a.fill(),a.strokeStyle="#9d4dca",a.stroke(),a.beginPath(),a.lineWidth=1;for(p=0;p<=v.length-1;p++)a.lineTo(c[p],u[p]),a.fillText(t[p]+f[p],c[p]+20*Math.cos(2*p*Math.PI/v.length),u[p]-20*Math.sin(2*p*Math.PI/v.length));a.closePath(),a.strokeStyle="black",a.stroke(),a.moveTo(s,r),a.lineWidth=2;for(p=0;p<=v.length-1;p++)a.lineTo(c[p],u[p]),a.closePath(),a.strokeStyle="rgba(255,255,255,0.1)",a.stroke();x()}},l.onmouseup=function(){M=!1,!1,JSON.parse(JSON.stringify(b))},l};t(this.description,this.data)}},a=l,s=n(1001),r=(0,s.Z)(a,i,o,!1,null,"2290804a",null),h=r.exports},2031:function(t,e,n){n.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("el-timeline",t._l(t.Nodes,(function(e,i){return n("el-timeline-item",{key:i,attrs:{icon:t.status(e.timestamp,e.length).icon,type:e.type,color:t.status(e.timestamp,e.length).color,size:"large",timestamp:e.timestamp}},[n("router-link",{attrs:{to:{name:"ScheduleDetail",query:{id:e.id}}}},[n("div",[t._v(t._s(e.content)+" ")])])],1)})),1)],1)},o=[],l=n(8488),a=n.n(l),s={props:["Nodes"],methods:{status(t,e){let n=a()().format("HH:mm"),i=60*n.slice(0,2)+1*n.slice(3,5)-60*t.slice(0,2)-1*t.slice(3,5);return i<0?{color:"",icon:""}:i<e?{color:"#409EFF",type:"primary",icon:"el-icon-video-camera"}:{color:"#0BBD87",icon:"el-icon-check"}}}},r=s,h=n(1001),c=(0,h.Z)(r,i,o,!1,null,"3b0a0b22",null),d=c.exports},2743:function(t,e,n){n.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tree",{attrs:{data:t.dt},on:{"node-click":t.handleNodeClick}})},o=[],l={methods:{handleNodeClick(t){console.log(t)}},props:["dt"]},a=l,s=n(1001),r=(0,s.Z)(a,i,o,!1,null,"487c68b3",null),h=r.exports},9129:function(t,e,n){n.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"WEBGL-OUTPUT"}})},o=[],l=n(8525),a={mounted(){function t(t){return t.reduce(((t,e)=>Math.max(t,e)))}const e=new l.Scene,n=new l.PerspectiveCamera(75,1920/1080,.1,1e3),i=new l.WebGLRenderer({antialias:!0});i.setSize(480,270),document.getElementById("WEBGL-OUTPUT").appendChild(i.domElement);new l.BoxGeometry(8,8,8);new l.MeshLambertMaterial({color:8857});const o=new l.PlaneGeometry(100,100),a=new l.MeshLambertMaterial({color:2236962}),s=new l.Mesh(o,a);s.rotation.x=-.5*Math.PI,s.position.set(15,0,0);const r=new l.AmbientLight(16777215);e.add(r),i.render(e,n);var h=new l.SpotLight(16777215);h.castShadow=!0,h.shadow.mapSize=new l.Vector2(1024,1024),h.position.set(25,40,12),e.add(h),i.shadowMap.enabled=!0,s.receiveShadow=!0;const c=new l.AxesHelper(50);console.log(c);let d={rotationSpeed:.01,jumpSpeed:.01,intensity:1};const u=["#00FF00","#FFFF00","#CC0000"],f=[40,20,30],p=new l.BoxGeometry(3,1,3),m=[];for(let k in f){const t=new l.MeshLambertMaterial({opacity:.7,transparent:!0,color:u[k%3]}),n=new l.Mesh(p,t);n.position.set(4*k+1.5,1.5,0),n.castShadow=!0,m.push(n),e.add(n)}const g={x:5,y:5,z:15},v=new l.OrbitControls(n,i.domElement);v.target=new l.Vector3(5,5,0),n.position.set(g.x,g.y,g.z),v.update();let w=null;const y=new l.FontLoader;let b=[];async function M(t){w||(w=await new Promise(((t,e)=>{y.load("https://cdn.rellal.com/Vivaldi_Italic.json",(e=>{t(e)}))})));for(let n of b)e.remove(n),n.geometry.dispose(),n.material.dispose();for(let e in f){const n=5*t<f[e]?Math.ceil(5*t):f[e],i=new l.TextGeometry(String(n),{font:w,size:1,height:.2,hover:10,curveSegments:10,bevelThickness:2,bevelSize:1,bevelSegments:3,bevelEnabled:!1}),o=new l.MeshLambertMaterial({opacity:.4,transparent:!0}),a=new l.Mesh(i,o);a.position.set(4*e+1,n/5+2,0),b[e]=a}for(let n of b)e.add(n)}console.log(e.position);const S=["↑","-","↓"];async function P(t){w||(w=await new Promise(((t,e)=>{y.load("https://cdn.rellal.com/FZYouXian-Z09S_Regular.json",(e=>{t(e)}))})));for(let n in f){const t=new l.TextGeometry(S[n],{font:w,size:1,height:.2,hover:10,curveSegments:10,bevelThickness:2,bevelSize:1,bevelSegments:3,bevelEnabled:!1}),i=new l.MeshLambertMaterial({opacity:1,transparent:!0,color:u[n]}),o=new l.Mesh(t,i);o.position.set(4*n+1,-2,0),e.add(o)}}P();let x=0;function _(){v.update();for(let t in f)m[t].scale.y<Math.ceil(f[t]/5)&&(m[t].scale.y+=.05,m[t].position.y=(m[t].scale.y+1)/2);x<=Math.ceil(t(f)/5)&&(x+=.05,M(x)),r.intensity=d.intensity,h.intensity=1,requestAnimationFrame(_),i.render(e,n)}_()}},s=a,r=n(1001),h=(0,r.Z)(s,i,o,!1,null,"7317ab9a",null),c=h.exports},5090:function(t,e,n){n.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"con",staticClass:"con"})},o=[],l={mounted(){const t=this.$refs.con,e=["#db5a6b","#00A74A","yellow","blue","black","gray"],n=[20,40,60],i=document.createElement("canvas"),o=i.getContext("2d");i.width=200,i.height=200;let l=0;for(let r of n)l+=r;function a(t,n,l,a){o.beginPath();let s=t/n,r=0;for(let h=0;h<=a;h++){let t=l[h];o.fillStyle=e[r%e.length],o.shadowBlur=10,o.shadowColor=e[r%e.length],r++,o.globalAlpha=1;let a=t/n;o.beginPath(),o.moveTo(i.width/2,i.height/2),o.arc(i.width/2,i.height/2,i.height/3,2*Math.PI*s,2*Math.PI*(s+a)),o.fill(),s+=a}o.beginPath(),o.moveTo(i.width/2,i.height/2),o.fillStyle="black",o.shadowBlur=0,o.globalAlpha=1,o.arc(i.width/2,i.height/2,i.height/3-10,0,2*Math.PI),o.fill()}async function s(t,n,l){let s=t;const r=t;for(let h in l)await new Promise(((c,d)=>{let u=l[h];const f=setInterval((()=>{s+=1,o.clearRect(0,0,i.width,i.height),a(r,n,l,h-1),o.beginPath(),o.globalAlpha=1,o.moveTo(i.width/2,i.height/2),o.arc(i.width/2,i.height/2,i.height/3,2*Math.PI*(t/n),2*Math.PI*(s/n)),o.fillStyle=e[h%e.length],o.shadowBlur=10,o.shadowColor=e[h%e.length],o.fill(),o.beginPath(),o.moveTo(i.width/2,i.height/2),o.fillStyle="black",o.shadowBlur=0,o.globalAlpha=1,o.arc(i.width/2,i.height/2,i.height/3-10,0,2*Math.PI),o.fill(),s-t>=u&&(t=s,clearInterval(f),c())}),1)}))}s(50,l,n),t.appendChild(i)}},a=l,s=n(1001),r=(0,s.Z)(a,i,o,!1,null,"7ecb1e0e",null),h=r.exports}}]);